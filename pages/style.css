/* =========================================
   1. Variables & Reset
   ========================================= */
:root {
    --glass-bg: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(255, 255, 255, 0.08);
    --glass-blur: blur(20px);
    --accent-color: #ffffff;
    --text-secondary: #94a3b8;
    --bg-color: #0f1115;
    --mesh-color: #2a2a2a;
    --primary-btn-bg: #ffffff;
    --primary-btn-text: #000000;
    --code-bg: #1e1e1e;
    --success-color: #4ade80;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    background-color: var(--bg-color);
    color: var(--accent-color);
    font-family: 'Inter', sans-serif;
    letter-spacing: -0.02em;
    overflow-x: hidden;
    min-height: 100vh;
    line-height: 1.6;
}

/* =========================================
   2. Global Components
   ========================================= */
/* Background Mesh */
.bg-mesh {
    position: fixed;
    width: 800px;
    height: 800px;
    background: radial-gradient(circle, var(--mesh-color) 0%, transparent 70%);
    border-radius: 50%;
    filter: blur(100px);
    z-index: -1;
    opacity: 0.6;
}
.bg-mesh-1 { top: -300px; right: -200px; }
.bg-mesh-2 { bottom: -300px; left: -200px; }

/* Glass Utility */
.glass {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
}

/* Layout */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.main-layout { padding-top: 120px; padding-bottom: 80px; }

/* =========================================
   3. Header & Navigation
   ========================================= */
.header {
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
    border-bottom: 1px solid rgba(255,255,255,0.02);
}
.header-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 70px;
}
.logo {
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 700;
    font-size: 1.1rem;
}
.logo-icon {
    width: 24px;
    height: 24px;
    display: block;
}
.nav { display: flex; gap: 32px; }
.nav-link {
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.95rem;
    font-weight: 500;
    transition: color 0.3s;
}
.nav-link:hover, .nav-link.active { color: var(--accent-color); }

.header-right { display: flex; align-items: center; gap: 16px; }
.search-bar {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    border-radius: 999px;
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--glass-border);
}
.search-bar input {
    background: transparent;
    border: none;
    color: #fff;
    outline: none;
    width: 150px;
    font-size: 0.9rem;
}
.search-icon { width: 16px; height: 16px; display: block; }

.avatar-placeholder {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: #333;
    color: #fff;
    display: grid;
    place-items: center;
    font-size: 0.8rem;
    font-weight: 700;
    border: 1px solid rgba(255,255,255,0.2);
    cursor: pointer;
}

/* =========================================
   4. Shared Elements
   ========================================= */
.btn {
    padding: 12px 24px;
    border-radius: 999px;
    font-weight: 600;
    font-size: 0.95rem;
    cursor: pointer;
    transition: transform 0.2s;
    border: none;
}
.btn:hover { transform: translateY(-2px); }
.btn-primary { background: var(--primary-btn-bg); color: var(--primary-btn-text); }
.btn-outline { background: transparent; border: 1px solid rgba(255,255,255,0.3); color: #fff; }

.reveal { opacity: 0; transform: translateY(40px); transition: all 0.8s cubic-bezier(0.5, 0, 0, 1); }
.reveal.active { opacity: 1; transform: translateY(0); }

/* =========================================
   5. Main Page Styles
   ========================================= */
.hero {
    padding-top: 160px;
    padding-bottom: 100px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
}
.hero-content { max-width: 600px; }
.hero-title {
    font-size: 3.5rem;
    font-weight: 700;
    line-height: 1.1;
    margin-bottom: 20px;
    background: linear-gradient(to right, #fff, #aaa);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}
.hero-subtitle {
    color: var(--text-secondary);
    font-size: 1.1rem;
    margin-bottom: 32px;
}
.hero-buttons { display: flex; gap: 16px; }

.hero-widgets { position: relative; width: 400px; height: 300px; }
.widget-card { position: absolute; padding: 20px; width: 260px; }
.profile-widget { top: 0; right: 0; z-index: 2; }
.quest-widget { bottom: 0; right: 0; z-index: 1; }

.widget-header { display: flex; align-items: center; gap: 12px; }
.widget-avatar {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: #444;
    display: grid;
    place-items: center;
    font-weight: 700;
}
.widget-name { font-weight: 700; font-size: 1rem; margin-bottom: 4px; }
.btn-text {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 0.8rem;
    cursor: pointer;
    padding: 0;
}
.btn-text:hover { color: #fff; text-decoration: underline; }

.widget-title { font-size: 0.9rem; font-weight: 600; margin-bottom: 12px; color: var(--text-secondary); }
.progress-circles { display: flex; justify-content: space-around; }
.circle-progress { width: 60px; height: 60px; position: relative; }
.circular-chart { display: block; margin: 0 auto; max-width: 100%; max-height: 100%; }
.circle-bg { fill: none; stroke: rgba(255,255,255,0.1); stroke-width: 3.8; }
.circle { fill: none; stroke-width: 2.8; stroke-linecap: round; stroke: #fff; animation: progress 1s ease-out forwards; }
@keyframes progress { 0% { stroke-dasharray: 0 100; } }
.percentage {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.7rem;
    font-weight: 600;
}

/* Dashboard */
.dashboard {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 24px;
    margin-bottom: 100px;
}
.dash-card { padding: 24px; display: flex; flex-direction: column; justify-content: center; }
.profile-stats { align-items: center; text-align: center; gap: 20px; }
.level-label { font-size: 0.9rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em; }
.level-number { font-size: 4rem; font-weight: 800; line-height: 1; display: block; }
.xp-bar-container { width: 100%; }
.xp-info { display: flex; justify-content: space-between; font-size: 0.85rem; margin-bottom: 8px; color: var(--text-secondary); }
.xp-bar-bg { height: 6px; background: rgba(255,255,255,0.1); border-radius: 999px; overflow: hidden; }
.xp-bar { height: 100%; background: #fff; border-radius: 999px; }

.streak-stats { display: grid; grid-template-columns: auto 1fr; gap: 30px; align-items: center; }
.streak-header { text-align: center; }
.streak-number { font-size: 3rem; font-weight: 700; }
.streak-label { color: var(--text-secondary); font-size: 0.9rem; }

.contribution-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(5, 1fr);
    gap: 6px;
}
.contrib-cell { 
    width: 100%; 
    aspect-ratio: 1; 
    background: rgba(255,255,255,0.1); 
    border-radius: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5rem;
    font-weight: 700;
    color: white;
}
.contrib-cell.active { background: rgba(225,225,225,0.5); }

.next-reward { grid-column: 1 / -1; display: flex; align-items: center; gap: 16px; margin-top: 10px; }
.next-reward span { font-size: 0.9rem; color: var(--text-secondary); white-space: nowrap; }
.reward-bar-bg { flex: 1; height: 4px; background: rgba(255,255,255,0.1); border-radius: 999px; overflow: hidden; }
.reward-bar { height: 100%; background: #fff; }

.total-players { grid-column: 1 / -1; padding: 30px; }
.chart-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 20px; }
.chart-header h3 { font-size: 1.1rem; color: var(--text-secondary); font-weight: 500; }
.counter { font-size: 2.5rem; font-weight: 700; line-height: 1; }
.chart-container { width: 100%; height: 100px; }
.line-chart { width: 100%; height: 100%; overflow: visible; }

/* Posts Section (Main Page) */
.posts { margin-bottom: 120px; }
.section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
.section-header h2 { font-size: 1.5rem; font-weight: 700; }

/* =========================================
   6. Post Grid & Cards (Shared)
   ========================================= */
.post-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 24px; margin-bottom: 60px; }

.post-card {
    display: flex;
    flex-direction: column;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.3s ease, border-color 0.3s ease;
}
.post-card:hover { transform: translateY(-8px); border-color: rgba(255,255,255,0.3); }

/* Main Page Specific Card Styles */
.posts .post-card { height: 280px; }
.posts .card-image { flex: 1; }

/* Post List Page Specific Card Styles */
.main-layout .post-card { height: 340px; }
.main-layout .card-image { height: 160px; }

.card-image {
    background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01));
    position: relative;
}
.card-image::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 50 Q 25 25 50 50 T 100 50' stroke='rgba(255,255,255,0.05)' fill='none' stroke-width='2'/%3E%3C/svg%3E");
    background-size: cover;
    opacity: 0.5;
}
.card-content { padding: 20px; background: rgba(0,0,0,0.2); flex: 1; display: flex; flex-direction: column; }
.date { font-size: 0.75rem; color: var(--text-secondary); display: block; margin-bottom: 8px; }
.card-content h3 { 
    font-size: 1.1rem; 
    font-weight: 600; 
    margin-bottom: 16px; 
    line-height: 1.4;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.card-footer { display: flex; justify-content: space-between; align-items: center; font-size: 0.8rem; color: var(--text-secondary); margin-top: auto; }
.tag { 
    background: rgba(255,255,255,0.1); 
    padding: 2px 8px; 
    border-radius: 4px; 
    transition: all 0.2s;
    cursor: pointer;
}
.tag:hover {
    background: rgba(255,255,255,0.2);
    color: #fff;
}
.post-card.hidden { display: none; }

/* =========================================
   7. Post List Page Styles
   ========================================= */
.page-header { text-align: center; margin-bottom: 60px; }
.page-title { font-size: 3rem; font-weight: 700; margin-bottom: 16px; }
.page-subtitle { color: var(--text-secondary); font-size: 1.1rem; }

.controls { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 40px; 
    position: relative;
    z-index: 50;
}
.filters { display: flex; gap: 10px; flex-wrap: wrap; }
.filter-btn {
    padding: 8px 20px;
    border-radius: 999px;
    background: rgba(255,255,255,0.05);
    border: 1px solid transparent;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s;
}
.filter-btn:hover { background: rgba(255,255,255,0.1); color: #fff; }
.filter-btn.active { background: #fff; color: #000; font-weight: 600; }

.sort-dropdown {
    padding: 8px 16px;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    position: relative;
    z-index: 100;
}
.arrow { font-size: 0.7rem; color: var(--text-secondary); }

.dropdown-menu {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 8px;
    list-style: none;
    padding: 8px 0;
    width: 120px;
    z-index: 101;
    display: block;
}

.dropdown-menu.hidden {
    display: none;
}

.dropdown-menu li {
    padding: 8px 16px;
    color: var(--text-secondary);
    transition: all 0.2s;
}

.dropdown-menu li:hover {
    background: rgba(255,255,255,0.1);
    color: #fff;
}

.excerpt { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.5; margin-bottom: 16px; flex: 1; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 3; line-clamp: 3; -webkit-box-orient: vertical; }

/* Pagination styles moved to end of file */

/* =========================================
   8. Post Detail Page Styles
   ========================================= */
.article-container {
    display: grid;
    grid-template-columns: 240px 1fr;
    gap: 60px;
    position: relative;
}

.sidebar-left { position: sticky; top: 100px; height: fit-content; }
.toc { padding: 20px; margin-bottom: 20px; }
.toc h3 { font-size: 0.9rem; margin-bottom: 16px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em; }
.toc ul { list-style: none; }
.toc li { margin-bottom: 12px; }
.toc a {
    text-decoration: none;
    color: var(--text-secondary);
    font-size: 0.9rem;
    transition: color 0.2s;
    display: block;
}
.toc a:hover, .toc a.active { color: #fff; font-weight: 500; }
.share-buttons { display: flex; gap: 10px; }
.share-btn {
    flex: 1;
    padding: 10px;
    border: 1px solid var(--glass-border);
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
}
.share-btn:hover { background: rgba(255,255,255,0.1); color: #fff; }

.article-content { max-width: 760px; }
.article-header { margin-bottom: 40px; }
.tags { display: flex; gap: 8px; margin-bottom: 20px; }
.article-title { font-size: 3rem; font-weight: 800; line-height: 1.2; margin-bottom: 24px; }
.article-meta { display: flex; align-items: center; gap: 12px; color: var(--text-secondary); font-size: 0.95rem; }
.author { display: flex; align-items: center; gap: 8px; color: #fff; font-weight: 500; }
.separator { opacity: 0.5; }

.featured-image {
    width: 100%;
    height: 400px;
    margin-bottom: 50px;
    background: linear-gradient(135deg, #333, #111);
    position: relative;
    overflow: hidden;
}
.featured-image::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 50 Q 25 25 50 50 T 100 50' stroke='rgba(255,255,255,0.05)' fill='none' stroke-width='2'/%3E%3C/svg%3E");
    background-size: cover;
    opacity: 0.3;
}

.content-body { font-size: 1.125rem; color: #e2e8f0; margin-bottom: 60px; }
.content-body p { margin-bottom: 24px; }
.content-body .lead { font-size: 1.3rem; font-weight: 400; color: #fff; line-height: 1.6; margin-bottom: 40px; }
.content-body h2 { font-size: 2rem; font-weight: 700; margin-top: 60px; margin-bottom: 24px; color: #fff; }
.content-body ul { margin-bottom: 24px; padding-left: 24px; }
.content-body li { margin-bottom: 10px; }
.content-body blockquote {
    border-left: 4px solid #fff;
    padding-left: 24px;
    margin: 40px 0;
    font-style: italic;
    font-size: 1.2rem;
    color: var(--text-secondary);
}
.content-body pre {
    background: var(--code-bg);
    padding: 24px;
    border-radius: 12px;
    overflow-x: auto;
    margin: 30px 0;
    border: 1px solid rgba(255,255,255,0.1);
}
.content-body code { font-family: 'JetBrains Mono', monospace; font-size: 0.9em; }
.content-body p code { background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 4px; }

.article-footer { padding: 40px; text-align: center; }
.article-footer h3 { font-size: 1.5rem; margin-bottom: 10px; }
.article-footer p { color: var(--text-secondary); margin-bottom: 24px; }
.subscribe-form { display: flex; gap: 10px; max-width: 400px; margin: 0 auto; }
.glass-input {
    flex: 1;
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--glass-border);
    padding: 12px 20px;
    border-radius: 999px;
    color: #fff;
    outline: none;
}

/* =========================================
   9. My Page Styles
   ========================================= */
.profile-header { overflow: hidden; margin-bottom: 48px; }
.profile-cover { height: 150px; background: linear-gradient(to right, #333, #111); }
.profile-info { padding: 0 30px 30px; position: relative; display: flex; align-items: flex-end; gap: 24px; margin-top: -50px; }
.avatar-large {
    width: 120px;
    height: 120px;
    border-radius: 24px;
    background: #222;
    border: 4px solid rgba(255,255,255,0.1);
    display: grid;
    place-items: center;
    font-size: 2rem;
    font-weight: 700;
    backdrop-filter: blur(10px);
}
.profile-text { flex: 1; padding-bottom: 10px; }
.profile-name { font-size: 2rem; font-weight: 700; margin-bottom: 8px; display: flex; align-items: center; gap: 10px; }
.badge-pro { font-size: 0.7rem; background: #fff; color: #000; padding: 2px 6px; border-radius: 4px; font-weight: 800; }
.profile-bio { color: var(--text-secondary); margin-bottom: 12px; max-width: 600px; }
.profile-meta { display: flex; gap: 16px; font-size: 0.85rem; color: var(--text-secondary); }
.profile-actions { display: flex; gap: 10px; padding-bottom: 10px; }

.stats-overview { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 24px; }
.stat-card { padding: 20px; display: flex; flex-direction: column; align-items: center; text-align: center; }
.stat-icon { font-size: 1.5rem; margin-bottom: 8px; }
.stat-value { font-size: 1.8rem; font-weight: 700; margin-bottom: 4px; }
.stat-label { font-size: 0.85rem; color: var(--text-secondary); }

.content-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 24px; }
.section-card { padding: 24px; margin-bottom: 24px; }
.card-header-flex { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.card-header-flex .section-title { margin-bottom: 0; }
.view-all { font-size: 0.85rem; color: var(--text-secondary); text-decoration: none; }

.heatmap-container { width: 100%; overflow-x: auto; }
.heatmap-grid { display: grid; grid-template-columns: repeat(52, 1fr); grid-template-rows: repeat(7, 1fr); gap: 3px; min-width: 600px; }
.heat-cell { width: 100%; aspect-ratio: 1; border-radius: 2px; background: rgba(255,255,255,0.05); }
.heat-cell.l1 { background: rgba(255,255,255,0.2); }
.heat-cell.l2 { background: rgba(255,255,255,0.4); }
.heat-cell.l3 { background: rgba(255,255,255,0.6); }
.heat-cell.l4 { background: #fff; }
.heatmap-legend { display: flex; align-items: center; gap: 4px; font-size: 0.75rem; color: var(--text-secondary); margin-top: 10px; justify-content: flex-end; }
.legend-box { width: 10px; height: 10px; border-radius: 2px; }
.level-0 { background: rgba(255,255,255,0.05); }
.level-1 { background: rgba(255,255,255,0.2); }
.level-2 { background: rgba(255,255,255,0.4); }
.level-3 { background: rgba(255,255,255,0.6); }
.level-4 { background: #fff; }

.activity-list { display: flex; flex-direction: column; gap: 16px; }
.activity-item { display: flex; gap: 12px; align-items: flex-start; padding-bottom: 16px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.activity-item:last-child { border-bottom: none; padding-bottom: 0; }
.activity-icon { width: 32px; height: 32px; background: rgba(255,255,255,0.1); border-radius: 50%; display: grid; place-items: center; font-size: 0.9rem; flex-shrink: 0; }
.activity-details { display: flex; flex-direction: column; gap: 4px; }
.activity-text { font-size: 0.9rem; line-height: 1.4; }
.activity-time { font-size: 0.75rem; color: var(--text-secondary); }

.badge-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.badge-item { display: flex; flex-direction: column; align-items: center; gap: 8px; padding: 12px; background: rgba(255,255,255,0.03); border-radius: 12px; transition: transform 0.2s; }
.badge-item:hover { transform: translateY(-2px); background: rgba(255,255,255,0.08); }
.badge-icon { font-size: 1.5rem; }
.badge-name { font-size: 0.75rem; font-weight: 500; }
.badge-item.locked { opacity: 0.5; }

.skill-chart-container { width: 100%; aspect-ratio: 1; padding: 20px; }
.radar-chart { width: 100%; height: 100%; overflow: visible; }

/* =========================================
   10. Quest Page Styles
   ========================================= */
.quest-hero { display: flex; justify-content: space-between; align-items: center; margin-bottom: 60px; }
.overall-progress { padding: 24px; width: 400px; }
.progress-info { display: flex; justify-content: space-between; margin-bottom: 12px; font-weight: 600; }
.progress-bar-bg { height: 8px; background: rgba(255,255,255,0.1); border-radius: 999px; overflow: hidden; margin-bottom: 12px; }
.progress-bar-fill { height: 100%; background: #fff; border-radius: 999px; }
.xp-gain { font-size: 0.85rem; color: var(--success-color); text-align: right; }

.quest-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-bottom: 80px; }

.quest-list { display: flex; flex-direction: column; gap: 16px; }
.quest-card { padding: 20px; display: flex; gap: 16px; transition: transform 0.2s; }
.quest-card:hover { transform: translateY(-4px); background: rgba(255,255,255,0.05); }
.quest-card.completed .quest-content h3 { text-decoration: line-through; color: var(--text-secondary); }
.quest-card.completed .checkbox { background: var(--success-color); border-color: var(--success-color); color: #000; }

.checkbox {
    width: 24px; height: 24px;
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 6px;
    display: grid;
    place-items: center;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s;
}
.checkbox:hover { border-color: #fff; }

.quest-content { flex: 1; }
.quest-content h3 { font-size: 1.1rem; font-weight: 600; margin-bottom: 4px; }
.quest-content p { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 12px; }
.quest-reward { display: flex; gap: 8px; }
.xp-badge { background: rgba(255,255,255,0.1); padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; }
.xp-badge.gold { background: rgba(255, 215, 0, 0.2); color: #ffd700; }
.xp-badge.silver { background: rgba(192, 192, 192, 0.2); color: #c0c0c0; }
.item-badge { background: rgba(147, 51, 234, 0.2); color: #d8b4fe; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; }

.challenge-header { display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 0.75rem; }
.challenge-tag { background: #ef4444; padding: 2px 6px; border-radius: 4px; font-weight: 700; }
.time-left { color: var(--text-secondary); }
.challenge-progress { margin-bottom: 12px; }
.cp-bar-bg { height: 4px; background: rgba(255,255,255,0.1); border-radius: 999px; overflow: hidden; margin-bottom: 4px; }
.cp-bar-fill { height: 100%; background: #fff; }
.cp-text { font-size: 0.75rem; color: var(--text-secondary); }

.rewards-section { margin-bottom: 60px; }
.btn-link { background: none; border: none; color: var(--text-secondary); cursor: pointer; font-size: 0.9rem; }
.btn-link:hover { color: #fff; }

.rewards-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; }
.reward-card { padding: 24px; text-align: center; display: flex; flex-direction: column; align-items: center; }
.reward-icon { font-size: 2.5rem; margin-bottom: 16px; }
.reward-card h3 { font-size: 1.1rem; font-weight: 600; margin-bottom: 8px; }
.reward-card p { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 20px; }
.btn-sm { padding: 8px 16px; font-size: 0.85rem; }

/* =========================================
   11. Footer
   ========================================= */
.footer {
    margin-top: 80px;
    border-top: 1px solid rgba(255,255,255,0.05);
    padding: 60px 0;
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
}
.footer-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.footer-left {
    display: flex;
    flex-direction: column;
    gap: 16px;
}
.footer-logo {
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 700;
    font-size: 1.1rem;
    color: #fff;
}
.logo-icon-sm {
    width: 24px;
    height: 24px;
    display: block;
}
.copyright {
    font-size: 0.9rem;
    color: var(--text-secondary);
}
.footer-social {
    display: flex;
    gap: 24px;
}
.social-link {
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.95rem;
    transition: color 0.2s;
}
.social-link:hover {
    color: var(--accent-color);
}

/* =========================================
   12. Media Queries
   ========================================= */
@media (max-width: 1024px) {
    .post-grid { grid-template-columns: repeat(2, 1fr); }
    .dashboard { grid-template-columns: 1fr; }
    .streak-stats { grid-template-columns: 1fr; text-align: center; display: flex; flex-direction: column; }
    .article-container { grid-template-columns: 1fr; }
    .sidebar-left { display: none; }
    .content-grid { grid-template-columns: 1fr; }
    .stats-overview { grid-template-columns: repeat(2, 1fr); }
    .quest-grid { grid-template-columns: 1fr; }
    .rewards-grid { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 768px) {
    .hero { flex-direction: column; text-align: center; padding-top: 100px; }
    .hero-widgets { margin-top: 60px; width: 100%; height: auto; display: flex; flex-direction: column; align-items: center; gap: 20px; }
    .widget-card { position: static; }
    .post-grid { grid-template-columns: 1fr; }
    .nav { display: none; }
    .controls { flex-direction: column; gap: 20px; align-items: flex-start; }
    .article-title { font-size: 2rem; }
    .profile-info { flex-direction: column; align-items: center; text-align: center; margin-top: -60px; }
    .profile-meta { justify-content: center; flex-wrap: wrap; }
    .quest-hero { flex-direction: column; align-items: flex-start; gap: 20px; }
    .overall-progress { width: 100%; }
    .rewards-grid { grid-template-columns: 1fr; }
    .footer-inner { flex-direction: column; gap: 30px; text-align: center; }
    .footer-left { align-items: center; }
}

/* Truncate excerpt to 2 lines */
.post-card .excerpt {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.5em; /* Adjust based on font-size */
    max-height: 3em; /* line-height * 2 */
    margin-bottom: 15px;
    color: var(--text-secondary);
    font-size: 0.9rem;
}

/* Pagination Styles */
.pagination {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 40px;
    padding-bottom: 40px;
}

.page-btn {
    width: 40px;
    height: 40px;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    color: var(--text-secondary);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: var(--glass-blur);
    display: grid;
    place-items: center;
    padding: 0;
}

.page-btn:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.1);
    color: var(--accent-color);
}

.page-btn.active {
    background: var(--accent-color);
    color: var(--bg-color);
    border-color: var(--accent-color);
    font-weight: 600;
}

.page-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.dots {
    color: var(--text-secondary);
    align-self: center;
}

/* =========================================
   13. Post List Redesign Specifics
   ========================================= */
.postlist-main {
    padding-top: 240px;
}

.hero-box-section {
    display: flex;
    justify-content: center;
    margin-bottom: 60px;
    text-align: center;
}

.hero-box {
    padding: 60px 40px;
    max-width: 1160px;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.hero-title-large {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 20px;
    background: linear-gradient(to right, #fff, #94a3b8);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}

.hero-desc {
    font-size: 1.1rem;
    color: var(--text-secondary);
    max-width: 500px;
    margin-bottom: 40px;
}

.hero-arrow {
    font-size: 2rem;
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
    40% {transform: translateY(-10px);}
    60% {transform: translateY(-5px);}
}

.search-reward-section {
    margin-top: 80px;
    margin-bottom: 80px;
}

.search-container {
    max-width: 600px;
    margin: 0 auto 60px;
    text-align: center;
}

.big-search-bar {
    display: flex;
    padding: 8px;
    border-radius: 999px;
    margin-bottom: 16px;
}

.big-search-bar input {
    flex: 1;
    background: transparent;
    border: none;
    color: #fff;
    padding: 12px 24px;
    font-size: 1rem;
    outline: none;
}

.btn-search {
    background: #fff;
    color: #000;
    border: none;
    padding: 10px 30px;
    border-radius: 999px;
    font-weight: 600;
    cursor: pointer;
}

.search-tags {
    display: flex;
    justify-content: center;
    gap: 10px;
}

.reward-dashboard {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    align-items: center;
    padding: 40px;
    gap: 40px;
}

.reward-profile {
    display: flex;
    align-items: center;
    gap: 20px;
}

.reward-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: #333;
    display: grid;
    place-items: center;
    font-size: 1.5rem;
    font-weight: 700;
    border: 2px solid rgba(255,255,255,0.2);
}

.reward-info {
    flex: 1;
}

.reward-name {
    font-size: 1.2rem;
    font-weight: 700;
    display: block;
    margin-bottom: 8px;
}

.reward-level-bar {
    height: 6px;
    background: rgba(255,255,255,0.1);
    border-radius: 999px;
    margin-bottom: 4px;
    overflow: hidden;
}

.reward-level-bar .fill {
    height: 100%;
    background: var(--success-color);
}

.reward-level-text {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.reward-center {
    display: flex;
    justify-content: center;
}

.circle-progress-large {
    width: 120px;
    height: 120px;
    position: relative;
}

.percentage-large {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1.5rem;
    font-weight: 700;
}

.reward-right h3 {
    font-size: 1.1rem;
    margin-bottom: 20px;
    color: var(--text-secondary);
}

.badge-list {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.badge-item-sm {
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--glass-border);
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 0.85rem;
}

@media (max-width: 900px) {
    .reward-dashboard {
        grid-template-columns: 1fr;
        text-align: center;
    }
    .reward-profile {
        flex-direction: column;
    }
    .reward-right {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
}

/* =========================================
   11. My Page Redesign (New)
   ========================================= */

.mypage-main {
    padding-top: 240px;
}

/* Profile Banner Redesign */
.profile-banner-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 40px;
}
.profile-left { display: flex; align-items: center; gap: 30px; }
.profile-right { display: flex; flex-direction: column; align-items: flex-end; gap: 20px; }
.profile-stats-mini { display: flex; gap: 20px; margin-top: 10px; color: var(--text-secondary); font-size: 0.9rem; }
.profile-stats-mini strong { color: #fff; margin-left: 5px; }
.level-badge-container { display: flex; align-items: center; gap: 10px; }
.level-text { font-size: 1.2rem; font-weight: 700; color: #fff; }
.badge-icon-sm { font-size: 1.2rem; }
.profile-action-btns { display: flex; gap: 10px; }
.icon-btn {
    width: 40px; height: 40px;
    border-radius: 50%;
    border: 1px solid var(--glass-border);
    background: rgba(255,255,255,0.05);
    color: #fff;
    display: grid;
    place-items: center;
    cursor: pointer;
    transition: all 0.2s;
}
.icon-btn:hover { background: rgba(255,255,255,0.1); }

/* Tabs & List Section */
.tabs-section { margin-bottom: 40px; text-align: center; }
.tab-menu {
    display: inline-flex;
    background: rgba(255,255,255,0.05);
    padding: 4px;
    border-radius: 999px;
    margin-bottom: 20px;
}
.tab-item {
    padding: 10px 24px;
    border-radius: 999px;
    cursor: pointer;
    color: var(--text-secondary);
    font-weight: 500;
    transition: all 0.2s;
}
.tab-item.active { background: #fff; color: #000; font-weight: 600; }

.filter-tags-bar { display: flex; justify-content: center; gap: 10px; margin-bottom: 40px; }
.filter-tag-sm {
    font-size: 0.85rem;
    padding: 4px 12px;
    border-radius: 999px;
    background: rgba(255,255,255,0.05);
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s;
}
.filter-tag-sm:hover, .filter-tag-sm.active { background: rgba(255,255,255,0.15); color: #fff; }

.vertical-post-list { display: flex; flex-direction: column; gap: 16px; margin-bottom: 60px; }
.post-card-horizontal {
    display: flex;
    align-items: center;
    gap: 24px;
    padding: 0 20px 0 0;
    transition: transform 0.2s;
    text-align: left;
}
.post-card-horizontal:hover { transform: translateX(10px); background: rgba(255,255,255,0.05); }
.thumb-sm {
    width: 122px; height: 122px;
    flex-shrink: 0;
    border-radius: 12px;
    background: #333;
    overflow: hidden;
    position: relative;
}
.thumb-sm::after {
    content: ''; position: absolute; inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L100 100 M100 0 L0 100' stroke='rgba(255,255,255,0.1)' stroke-width='2'/%3E%3C/svg%3E");
    opacity: 0.5;
}
.post-info-h { flex: 1; min-width: 0; }
.post-info-h h3 { font-size: 1.1rem; margin-bottom: 8px; }
.post-info-h p { font-size: 0.9rem; color: var(--text-secondary); display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.post-meta-h { margin-left: auto; flex-shrink: 0; text-align: right; font-size: 0.85rem; color: var(--text-secondary); display: flex; flex-direction: column; gap: 8px; align-items: flex-end; }

/* Quest & Activity Grid */
.quest-activity-grid {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 24px;
    margin-bottom: 80px;
}
.quest-card, .activity-card { padding: 30px; display: flex; flex-direction: column; }
.card-title-lg { font-size: 1.5rem; font-weight: 700; margin-bottom: 10px; }
.card-desc { color: var(--text-secondary); margin-bottom: 24px; font-size: 0.9rem; }

.quest-list { display: flex; flex-direction: column; gap: 16px; margin-bottom: auto; }
.quest-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: rgba(255,255,255,0.03);
    border-radius: 12px;
}
.check-circle {
    width: 24px; height: 24px;
    border-radius: 50%;
    border: 2px solid var(--glass-border);
    display: grid;
    place-items: center;
    color: transparent;
}
.quest-item.completed .check-circle {
    background: var(--success-color);
    border-color: var(--success-color);
    color: #000;
}
.quest-text { font-size: 0.95rem; flex: 1; }

.graph-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px; }
.graph-area {
    flex: 1;
    position: relative;
    border-left: 1px solid rgba(255,255,255,0.1);
    border-bottom: 1px solid rgba(255,255,255,0.1);
    margin: 20px 0 20px 40px; /* Space for Y axis */
    height: 200px;
}
.y-axis {
    position: absolute;
    left: -40px;
    top: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    font-size: 0.75rem;
    color: var(--text-secondary);
    text-align: right;
    width: 30px;
}
.x-axis {
    display: flex;
    justify-content: space-between;
    margin-left: 40px;
    font-size: 0.75rem;
    color: var(--text-secondary);
}
.graph-line-svg {
    width: 100%;
    height: 100%;
    overflow: visible;
}
.graph-path {
    fill: none;
    stroke: #fff;
    stroke-width: 2;
}
.graph-point {
    fill: var(--bg-color);
    stroke: #fff;
    stroke-width: 2;
    r: 4;
}

